{"version":3,"sources":["Components/TarifesForm.jsx","Components/TarifesGrid.jsx","APIcalls/getTarifa.js","App.jsx","index.js"],"names":["TarifesForm","calcul","console","log","onSubmit","TextField","id","label","Button","type","variant","color","TarifesGrid","useState","rows","cols","taula","setData","useEffect","Row_de_Calcul","Col_no_Mostrar","Bloquejades","fetch","then","res","json","response","key","forEach","linea","index","includes","doc","_id","push","columna","title","field","frozen","getTarifa","data","columns","tooltips","layout","App","className","Helmet","rootElement","document","getElementById","ReactDOM","render"],"mappings":"qNAEe,SAASA,EAAYC,GAMlC,OALAC,QAAQC,IAAI,eAMV,uBAAMC,SAJR,WACEF,QAAQC,IAAI,sBAGZ,UACE,cAACE,EAAA,EAAD,CAAWC,GAAG,eAAeC,MAAM,oBACnC,mCACA,cAACF,EAAA,EAAD,CAAWC,GAAG,iBAAiBC,MAAM,qBACrC,mCACA,cAACF,EAAA,EAAD,CAAWC,GAAG,YAAYC,MAAM,cAChC,mCACA,cAACF,EAAA,EAAD,CAAWC,GAAG,gBAAgBC,MAAM,kBACpC,mCACA,cAACC,EAAA,EAAD,CAAQC,KAAK,SAASC,QAAQ,YAAYC,MAAM,UAAhD,yB,kCCZS,SAASC,IACtBV,QAAQC,IAAI,eAEZ,IAMA,EAAyBU,mBANN,CACjBC,KAAM,GACNC,KAAM,GACNd,OAAS,KAGX,mBAAOe,EAAP,KAAcC,EAAd,KASA,OAPAC,qBAAU,WACRhB,QAAQC,IAAI,UClBD,WACb,IAAMgB,EAAgB,CAAC,UACjBC,EAAiB,CAAC,MAAO,OAAQ,MACjCC,EAAc,CAAC,OAAQ,cACzBP,EAAO,GACPC,EAAO,GACPd,EAAS,GAGb,OAAOqB,MAAM,6DACVC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GAWL,IAAK,IAAIC,KATTD,EAASZ,KAAKc,SAAQ,SAACC,EAAOC,GACvBX,EAAcY,SAASF,EAAMG,IAAIC,KAIpChC,EAAS4B,EAAMG,KAHflB,EAAKoB,KAAKL,EAAMG,KAChBlB,EAAKgB,GAAOxB,GAAKwB,MAMLhB,EAAK,GACnB,IAAKM,EAAeW,SAASJ,GAAM,CACjC,IAAIQ,EAAU,CAAEC,MAAOT,EAAKU,MAAOV,GAC/BN,EAAYU,SAASJ,KAAMQ,EAAQG,QAAS,GAChDvB,EAAKmB,KAAKC,GAId,OADAjC,QAAQC,IAAI,WAAY,CAAEW,KAAMA,EAAMC,KAAMA,EAAOd,OAAQA,IACpD,CAAEa,KAAMA,EAAMC,KAAMA,EAAMd,OAAQA,MDX3CsC,GAAYhB,MAAK,SAACG,GAChBT,EAAQS,QAET,IAGD,cAAC,iBAAD,CACEc,KAAMxB,EAAMF,KACZ2B,QAASzB,EAAMD,KACf2B,UAAU,EACVC,OAAQ,Y,YErBC,SAASC,IACtB,OACE,sBAAKC,UAAU,MAAf,UACE,cAACC,EAAA,EAAD,UACE,gCANM,wBAQR,gEACA,cAAC9C,EAAD,IACA,mCACA,cAACY,EAAD,OCZN,IAAMmC,EAAcC,SAASC,eAAe,QAC5CC,IAASC,OACP,cAAC,aAAD,UACE,cAACP,EAAD,MAEFG,K","file":"static/js/main.27aef5ba.chunk.js","sourcesContent":["import { Button, TextField } from \"@material-ui/core\";\n\nexport default function TarifesForm(calcul) {\n  console.log(\"TarifesForm\");\n\n  function handleSubmit() {\n    console.log(\"dins handlesubmit\");\n  }\n  return (\n    <form onSubmit={handleSubmit}>\n      <TextField id=\"litresViatge\" label=\"litres / viatge\" />\n      <h2> </h2>\n      <TextField id=\"tones-standart\" label=\"tones / standard\" />\n      <h2> </h2>\n      <TextField id=\"cost-fixe\" label=\"cost fixe\" />\n      <h2> </h2>\n      <TextField id=\"cost-variable\" label=\"cost variable\" />\n      <h2> </h2>\n      <Button type=\"submit\" variant=\"contained\" color=\"primary\">\n        Calcular\n      </Button>\n    </form>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport \"react-tabulator/lib/styles.css\"; // required styles\nimport \"react-tabulator/lib/css/tabulator.min.css\"; // theme\nimport { ReactTabulator } from \"react-tabulator\";\nimport getTarifa from \"../APIcalls/getTarifa\";\n\nexport default function TarifesGrid() {\n  console.log(\"TarifesGrid\");\n\n  var taulaDefault = {\n    rows: [],\n    cols: [],\n    calcul : {}\n  };\n\n  const [taula, setData] = useState(taulaDefault);\n\n  useEffect(function () {\n    console.log(\"efecte\");\n    getTarifa().then((response) => {\n      setData(response);\n    });\n  }, []);\n\n  return (\n    <ReactTabulator\n      data={taula.rows}\n      columns={taula.cols}\n      tooltips={true}\n      layout={\"fitData\"}\n    />\n  );\n}\n","export default function getTarifa() {\n  const Row_de_Calcul = [\"calcul\"];\n  const Col_no_Mostrar = [\"_id\", \"_rev\", \"id\"];\n  const Bloquejades = [\"CODI\", \"Recorregut\"];\n  var rows = [];\n  var cols = [];\n  var calcul = {};\n\n  //console.log(\"dins getTarifa\");\n  return fetch(\"https://comandes-pinso.api.bonarea.com:8443/tarifa_gasoil\")\n    .then((res) => res.json())\n    .then((response) => {\n      // crea les files\n      response.rows.forEach((linea, index) => {\n        if (!Row_de_Calcul.includes(linea.doc._id)) {\n          rows.push(linea.doc);\n          rows[index].id = index;\n        } else {\n          calcul = linea.doc;\n        }\n      });\n      // crea les columnes\n      for (var key in rows[0]) {\n        if (!Col_no_Mostrar.includes(key)) {\n          var columna = { title: key, field: key };\n          if (Bloquejades.includes(key)) columna.frozen = true;\n          cols.push(columna);\n        }\n      }\n      console.log(\"fetch : \", { rows: rows, cols: cols , calcul: calcul});\n      return { rows: rows, cols: cols, calcul: calcul };\n    });\n}\n","import \"./styles.css\";\n\nimport TarifesForm from \"./Components/TarifesForm\";\nimport TarifesGrid from \"./Components/TarifesGrid\";\nimport { Helmet } from \"react-helmet\";\n\nconst TITLE = \"Tarifes Transport\";\n\nexport default function App() {\n  return (\n    <div className=\"App\">\n      <Helmet>\n        <title>{TITLE}</title>\n      </Helmet>\n      <h1>Calcul de tarifes de transport</h1>\n      <TarifesForm />\n      <h1> </h1>\n      <TarifesGrid />\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}